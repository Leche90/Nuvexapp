<h2>Invoice</h2>

<table>
  <thead>
    <tr>
      <th>Product</th>
      <th>Quantity</th>
      <th>Price</th>
      <th>Total</th>
    </tr>
  </thead>
  <tbody>
    <% @order.order_items.each do |item| %>
      <tr>
        <td><%= item.product.name %></td>
        <td><%= item.quantity %></td>
        <td><%= number_to_currency(item.price) %></td>
        <td><%= number_to_currency(item.quantity * item.price) %></td>
      </tr>
    <% end %>
  </tbody>
  <tfoot>
    <tr>
      <th colspan="3">Subtotal</th>
      <td><%= number_to_currency(@order.total_price) %></td>
    </tr>
    <tr>
      <th colspan="3">GST</th>
      <td><%= number_to_currency(@taxes[:gst]) %></td>
    </tr>
    <tr>
      <th colspan="3">PST</th>
      <td><%= number_to_currency(@taxes[:pst]) %></td>
    </tr>
    <tr>
      <th colspan="3">HST</th>
      <td><%= number_to_currency(@taxes[:hst]) %></td>
    </tr>
    <tr>
      <th colspan="3">Total</th>
      <td><%= number_to_currency(@total_with_taxes) %></td>
    </tr>
  </tfoot>
</table>
